\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry} % see geometry.pdf on how to lay out the page. There's lots.
\geometry{a4paper} % or letter or a5paper or ... etc
\usepackage[multidot]{grffile}
\usepackage{colortbl}
\usepackage{fancyhdr}
\usepackage{natbib}
\bibliographystyle{plainnat}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{array} % for defining a new column type, if needed
\usepackage{varwidth} %for the varwidth minipage environment
\usepackage{tikz}

% \usepackage[colorlinks=true,linkcolor=blue,urlcolor=NavyBlue,citecolor=Fuchsia]{hyperref}
% \urlstyle{same}

\newcommand{\printbgpic}{%
\makebox[0pt][l]{%
      \raisebox{-1.08\totalheight}[0pt][0pt]{%
        \hbox{\hspace{-1.5\textwidth}\includegraphics[width=3\textwidth]{gfz-bg.pdf}}%
      }%
    }%
}

\newcommand{\printbgpiccorners}{%
	% upper right picture
	\begin{tikzpicture}[remember picture, overlay]
  		\node [anchor=north east, inner xsep=2cm, inner ysep=1in + \voffset]  at (current page.north east)
  			{\includegraphics{gfzlogo_ur.pdf}};
	\end{tikzpicture}%
	% upper left
	\begin{tikzpicture}[remember picture, overlay]
  		\node [anchor=north west, inner xsep=2cm, inner ysep=1in + \voffset]  at (current page.north west)
  			{\includegraphics{gfzlogo_ul.png}};
	\end{tikzpicture}%
	% lower left
	\begin{tikzpicture}[remember picture, overlay]
  		\node [anchor=south west, inner xsep=2cm, inner ysep=1in + \voffset]  at (current page.south west)
  			{www.gfz-potsdam.de};
	\end{tikzpicture}%
	% lower right:
	\begin{tikzpicture}[remember picture, overlay]
  		\node [anchor=south east, inner xsep=2cm, inner ysep=1in + \voffset]  at (current page.south east)
  			{\includegraphics{gfzlogo_lr.png}};
	\end{tikzpicture}%
}


% setup footers and headers in the "normal" document pages
\pagestyle{fancy}
% define headers and footer globally valid for everything:
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\lhead{} % no left header
\rhead{} % no right header
\chead{} % no center header
\lfoot{\rststr. GFZ German Research Centre for Geosciences. \\ \rstdoi}
\cfoot{} % no center foot
\rfoot{\thepage} % print the page

% maketitle macro
\makeatletter
% new command title
\renewcommand{\maketitle}{
  % 1) copied from sphinxhowto.cls (the original one, in the annexed one is commented out to override the maketitle, as we are doing)
  \ifsphinxpdfoutput
    \begingroup
    % These \defs are required to deal with multi-line authors; it
    % changes \\ to ', ' (comma-space), making it pass muster for
    % generating document info in the PDF file.
    \def\\{, }
    \def\and{and }
    \pdfinfo{
      /Author (\@author)
      /Title (\@title)
    }
    \endgroup
  \fi

  % 2) title page
  % custom make title:
  % print background picture:
  \printbgpic
  % print corner pictures
  \printbgpiccorners
  % \vspace*{20em}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  {\Huge \par}
  \hfill\begin{tabular}{@{}p{.8\linewidth}@{}}
	%\multicolumn{1}{@{}c@{}}{Some title} \\  % this is if we wanted to center the title inside the tabular (we don't)
	{\large Authors \par} \\
	{\@author \par} \\
	{\Huge \@title \par}\\
  	{\large \rstsubtitle \par} \\
  	{\large \rstsubsubtitle \par} \\
  	{\large Scientific Technical Report \rststr} \\
  	{\par \normalsize GIPP Experiment- and Data Archive}
	% \lipsum[4]
  \end{tabular}
  
 %  	\begin{flushright}
 %  	\vspace*{20em}
 %  	\large Authors \\
 %  	\large \replace{\@author}{-}{\newline }
 %  	\Huge \@title\\
 %  	\vspace{1em}
	% \large \@author
 %  	\end{flushright}
  	
  
  % FIXME: what are these?
  % \@thanks
  \setcounter{footnote}{0}
  % \let\thanks\relax\let\maketitle\relax
  
  \clearpage  % this must be issued for an article docclass, as howto is 
}
\makeatother
